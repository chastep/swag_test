{"swagger":"2.0","info":{"version":"1.0.0","title":"Swagger Litify","description":"This is Litify swagger API documentation"},"tags":[{"name":"user","description":"Users operations"},{"name":"admin user","description":"Users operations"},{"name":"organization","description":"Organizations operations"},{"name":"location","description":"Organizations location operations"},{"name":"join requests","description":"Join requests operations"},{"name":"join invitations","description":"Join invitations operations"},{"name":"incoming referrals","description":"Incoming referrals operations"},{"name":"referral intakes","description":"Referral intake operations"},{"name":"case types","description":"Case types operations"},{"name":"reports","description":"reports"},{"name":"downloadable_reports","description":"downloadable_reports"},{"name":"documents","description":"Documents operations"}],"host":"localhost:5000","basePath":"/api/v1","consumes":["application/json"],"produces":["application/json"],"paths":{"/users":{"post":{"description":"Create a user","operationId":"createUser","tags":["user"],"parameters":[{"name":"user","in":"body","description":"user data","required":true,"schema":{"$ref":"#/definitions/UserInput"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserBasicData"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"}}}}}},"/users/sign_up_from_invite":{"post":{"description":"Create a user","operationId":"createUser","tags":["user"],"parameters":[{"name":"sign_up_from_invite","in":"body","description":"sign_up_from_invite","required":true,"schema":{"$ref":"#/definitions/SignUpFromInvite"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserShow"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"}}}}}},"/users/{id}":{"get":{"description":"Get User by id. The organization admin or the actual user can show user.","operationId":"showUser","tags":["user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserShow"}},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}},"put":{"description":"Update the user fields or password","operationId":"updateUser","tags":["user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"user","in":"body","description":"user data","required":true,"schema":{"$ref":"#/definitions/UserUpdateInput"}},{"name":"id","in":"path","description":"doesnt matter, it will update logged in user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserShow"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"}}},"409":{"description":"Invalid operation error"}}}},"/users/update_email_notifications":{"put":{"description":"Modify Email Notification Settings","operationId":"updateEmailNotifications","tags":["user"],"parameters":[{"in":"body","description":"referral_intake data","required":true,"schema":{"$ref":"#/definitions/EmailNotifications"}}],"responses":{"200":{"description":"sent request response","schema":{"$ref":"#/definitions/EmailNotifications"}}}}},"/users/send_reset_password_request":{"put":{"description":"Send a reset password request","operationId":"sendResetPasswordRequest","tags":["user"],"parameters":[{"name":"email","in":"body","description":"user email","required":true,"type":"string","schema":{"$ref":"#/definitions/emailField"}}],"responses":{"200":{"description":"sent request response","schema":{"$ref":"#/definitions/resetPasswordRequestSent"}},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}}}}},"/users/update_password":{"put":{"description":"Update the password of the user","operationId":"updatePassword","tags":["user"],"parameters":[{"name":"reset_password_fileds","in":"body","description":"user email","required":true,"type":"string","schema":{"$ref":"#/definitions/resetPasswordFields"}}],"responses":{"200":{"description":"password updated","schema":{"$ref":"#/definitions/updatePassword"}},"409":{"description":"Invalid operation error"}}}},"/users/accept_msa":{"post":{"description":"Accept msa given its id","operationId":"acceptMSA","tags":["user"],"parameters":[{"name":"agreement_id","in":"body","description":"the msa user is accepting","required":true,"type":"integer"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserShow"}}}}},"/case_types":{"get":{"description":"List existing CaseTypes","operationId":"indexCaseType","tags":["case type"],"parameters":[{"name":"with_deleted","in":"query","description":"when present returns deleted case types","required":false,"type":"string"},{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"}],"responses":{"200":{"description":"case_types response","schema":{"$ref":"#/definitions/CaseTypesIndex"}}}}},"/agreements/latest":{"get":{"description":"Get latest msa","operationId":"getLatestMsa","tags":["msa"],"responses":{"200":{"description":"msa response","schema":{"$ref":"#/definitions/MsaResponse"}}}}},"/organizations":{"post":{"description":"Create an organization","operationId":"createOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization","in":"body","description":"organization data","required":true,"schema":{"$ref":"#/definitions/OrganizationCreateInput"}}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationWithSignedUrl"}}}},"get":{"description":"List existing organizations","operationId":"indexOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"state","in":"query","description":"State code, from US. i.e. 'CA', 'NY', etc...","required":false,"type":"string"},{"name":"with_deactivated","in":"query","description":"'true' if must return deactivated organizations","required":false,"type":"string"},{"name":"case_type_id","in":"query","description":"Case type id","required":false,"type":"string"},{"name":"originating_firms_with_agreements","in":"query","description":"true if filter firms that have agreements as originating firm with logged in user","required":false,"type":"string"},{"name":"handling_firms_with_agreements","in":"query","description":"true if filter firms that have agreements as handling firm with logged in user","required":false,"type":"string"},{"name":"name","in":"query","description":"Organization name contains parameter","required":false,"type":"string","example":"Pearson"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsIndexWithFuzzy"}}}}},"/organizations/get_all_for_salesforce":{"get":{"description":"List existing organizations","operationId":"getAllForSalesforceOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsGetAllForSF"}}}}},"/v2/organizations/get_all_for_salesforce":{"get":{"description":"List existing organizations","operationId":"v2GetAllForSalesforceOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"since","in":"query","description":"Organizations that were updated since the time given","required":false,"type":"string","example":"1581438137"},{"name":"page","in":"query","description":"Organizations by page","required":false,"type":"string","example":"1"},{"name":"per","in":"query","description":"Organizations per page","required":false,"type":"string","example":"20"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsGetAllForSF"}}}}},"/v2/organizations/search":{"get":{"description":"Search existing organizations","operationId":"v2searchOrganizations","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"text_search","in":"query","description":"Full text search on organizations name, statement, and primary contacts full name","required":false,"type":"string","example":"Hamlin"},{"name":"state","in":"query","description":"State code, from US. i.e. 'CA', 'NY', etc...","required":false,"type":"string","example":"NY"},{"name":"city","in":"query","description":"City name, from US.","required":false,"type":"string","example":"Brooklyn"},{"name":"firm_size","in":"query","description":"Firm Size value in number of persons. Options are: '\u003c15', '15-75', '\u003e75'","required":false,"type":"string","example":"15-75"},{"name":"case_type_id","in":"query","description":"Case type id","required":false,"type":"string"},{"name":"page","in":"query","description":"Organizations by page","required":false,"type":"string","example":"1"},{"name":"per","in":"query","description":"Organizations per page","required":false,"type":"string","example":"20"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsSearchWithFuzzy"}},"400":{"description":"Invalid firm_size parameter argument error","schema":{"$ref":"#/definitions/FirmSizeError"}}}}},"/organizations/suggest":{"get":{"description":"List suggested organizations from contact info","operationId":"suggestOrganizationsFromContactInfo","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"email","in":"query","description":"Organizations that have a user with email domain","required":false,"type":"string","example":"someone@example.com"},{"name":"suggested_attorney_email","in":"query","description":"Organizations that have a user with email domain","required":false,"type":"string","example":"someone@example.com"},{"name":"suggested_attorney_firm_name","in":"query","description":"Looks for organizations with the same name as this parameter","required":false,"type":"string","example":"someone@example.com"},{"name":"suggested_attorney_first_name","in":"query","description":"DOESNT WORK WITHOUT last_name param. Organizations that have a user with that name","required":false,"type":"string","example":"someone@example.com"},{"name":"suggested_attorney_last_name","in":"query","description":"Organizations that have a user with that name","required":false,"type":"string","example":"someone@example.com"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsIndexWithFuzzy"}}}}},"/organizations/search":{"get":{"description":"Search existing organizations","operationId":"searchOrganizations","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"text_search","in":"query","description":"Full text search on user and organizations","required":true,"type":"string","example":"Hamlin"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersAndOrganizationsSearchWithFuzzy"}}}}},"/organizations/{id}":{"get":{"description":"Show organization","operationId":"showOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationShow"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}},"put":{"description":"update organizations","operationId":"updateOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"organization","in":"body","description":"organization data","required":true,"schema":{"$ref":"#/definitions/OrganizationUpdateInput"}}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationShow"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/shadow_organizations/{shadow_organization_id}/contact_information":{"get":{"description":"Show organization","operationId":"showOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"shadow_organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"properties":{"suggested_attorney_first_name":{"type":"string","example":"John"},"suggested_attorney_last_name":{"type":"string","example":"Doe"},"suggested_attorney_email":{"type":"string","example":"john@example.com"}}}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/shadow_organizations/{shadow_organization_id}/claim":{"put":{"description":"Show organization","operationId":"showOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"shadow_organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/referrals":{"post":{"description":"Create a referral for handling_organization_id as HF","operationId":"createReferral","tags":["referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral","in":"body","description":"referral data","required":true,"schema":{"$ref":"#/definitions/ReferralForHFWithAgreementInput"}}],"responses":{"200":{"description":"referral agreements for handling_organization response","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"422":{"description":"ValidationError. e.g. inactive organization cannot be specified","schema":{"$ref":"#/definitions/ValidationError"}}}}},"/referrals/{referral_id}/status_updates":{"post":{"description":"Creates a status update on a referral","operationId":"createsStatusUpdateOnReferral","tags":["referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"status update","required":true,"schema":{"$ref":"#/definitions/ReferralStatusUpdateInput"}}],"responses":{"200":{"description":"referral with status updates response","schema":{"$ref":"#/definitions/ReferralShowWithoutDocumentCount"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/referral_network":{"get":{"description":"List organizations and how many incoming/outgoing referral count","operationId":"reportsReferralNetwork","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"date_from","in":"query","description":"Filter by referral creation date","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"date_to","in":"query","description":"Filter by referral creation date","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsReferralNetworkReport"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/incoming_per_month":{"get":{"description":"List referral_status of incoming referrals per month","operationId":"reportsIncomingPerMonth","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"received":{"2016-10-01 00:00:00 UTC":4,"2016-11-01 00:00:00 UTC":4}}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/outgoing_per_month":{"get":{"description":"List referral_status of outgoing referrals per month","operationId":"reportsOutgoingPerMonth","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"received":{"2016-10-01 00:00:00 UTC":4,"2016-11-01 00:00:00 UTC":4}}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/incoming_count":{"get":{"description":"List referral_status of incoming referrals","operationId":"reportsIncomingCount","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/ReferralLifetimeTotalsIncomingCount"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/outgoing_count":{"get":{"description":"List referral_status of outgoing referrals","operationId":"reportsOutgoingCount","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/ReferralLifetimeTotalsOutgoingCount"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/incoming_performance":{"get":{"description":"Rates and averages regarding incoming referrals","operationId":"reportsIncomingPerformance","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/ReferralsPerformance"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/reports/outgoing_performance":{"get":{"description":"Rates and averages regarding outgoing referrals","operationId":"reportsOutgoingPerformance","tags":["organization","reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/ReferralsPerformance"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/downloadable_reports":{"get":{"description":"List downloadable_reports and their status for organization","operationId":"getDownloadableReports","tags":["organization","downloadable_reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"sort","in":"query","description":"Sort by name, created_at, status","required":false,"type":"string","example":"-name, created_at"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/DownloadableReportsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}},"post":{"description":"Create downloadable_report","operationId":"postDownloadableReports","tags":["organization","downloadable_reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"downloadable_report","in":"body","description":"downloadable_report data","required":true,"schema":{"$ref":"#/definitions/DownloadableReportInput"}}],"responses":{"200":{"description":"downloadable_report response","schema":{"$ref":"#/definitions/DownloadableReport"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/downloadable_reports/{downloadable_report_id}/attachment":{"get":{"description":"Download attached report","operationId":"getAttachmentDownloadableReports","tags":["organization","downloadable_reports"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"downloadable_report_id","in":"path","description":"selected downloadable_report","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Download file"},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users":{"get":{"description":"List members of the organization, by default, only the ones able to receive referrals","operationId":"userIndexOnOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"eligible_for_receiving_referrals","in":"query","description":"true/false returns users able to receive referrals","required":false,"type":"string"},{"name":"full_name","in":"query","description":"search text","required":false,"type":"string"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users/{user_id}/promote_to_admin":{"put":{"description":"DEPRECATED Promote a member to admin","operationId":"promoteMemberToAdminOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected member","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users/{user_id}/revoke_admin_role":{"put":{"description":"DEPRECATED Revoke a members admin role","operationId":"revokeMemberAdminRoleOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected member","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users/{user_id}/settings":{"put":{"description":"update user settings, scoped to organization","operationId":"updateUserSettingsScopedToFirm","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected member","required":true,"type":"integer","format":"int64"},{"name":"settings","in":"body","description":"user settings","required":true,"schema":{"$ref":"#/definitions/UserSettings"}}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users/{id}":{"delete":{"description":"Deactivate a user","operationId":"deactivateUserFromOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"users with user_organization data","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/users/{user_id}/reactivate":{"put":{"description":"Reactivate a user","operationId":"reactivateUserFromOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"users with user_organization data","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/case_types":{"post":{"description":"Set selected organizations practice areas","operationId":"setPracticeAreasOrganization","tags":["organization"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"practice_areas_ids","in":"body","description":"case types ids","required":true,"schema":{"$ref":"#/definitions/OrganizationUpdatePracticeAreasInput"}}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/locations":{"get":{"description":"List locations of the organization","operationId":"locationIndexOnOrganization","tags":["organization","location"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization locations list response","schema":{"$ref":"#/definitions/OrganizationsLocationIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}},"post":{"description":"create location for organization","operationId":"locationCreateOnOrganization","tags":["organization","location"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"location","in":"body","description":"location data","required":true,"schema":{"$ref":"#/definitions/OrganizationLocationInput"}}],"responses":{"200":{"description":"organization locations list response","schema":{"$ref":"#/definitions/OrganizationLocation"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/locations/{location_id}":{"put":{"description":"update location on organization","operationId":"locationPutOnOrganization","tags":["organization","location"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"location_id","in":"path","description":"selected location","required":true,"type":"integer","format":"int64"},{"name":"location","in":"body","description":"location data","required":true,"schema":{"$ref":"#/definitions/OrganizationLocationInput"}}],"responses":{"200":{"description":"organization locations list response","schema":{"$ref":"#/definitions/OrganizationLocation"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}},"delete":{"description":"delete location on organization","operationId":"locationDeleteOnOrganization","tags":["organization","location"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"location_id","in":"path","description":"selected location","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization locations list response","schema":{"$ref":"#/definitions/OrganizationLocation"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/referral_agreements":{"get":{"description":"Get agreements with organization_id as OF and handling_organization_id as HF","operationId":"getReferralAgreementsForOFandHF","tags":["organization","handling_organization","referral_agreements"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected originating organization","required":true,"type":"integer","format":"int64"},{"name":"handling_organization_id","in":"query","description":"selected handling organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"referral agreements for handling_organization response","schema":{"$ref":"#/definitions/ReferralAgreementsWithHFIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/handling_organizations/{handling_organization_id}/referral_agreements":{"get":{"description":"[DEPRECATED] Get agreements with organization_id as OF and handling_organization_id as HF","operationId":"getReferralAgreementsForOFandHF","tags":["organization","handling_organization","referral_agreements"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected originating organization","required":true,"type":"integer","format":"int64"},{"name":"handling_organization_id","in":"path","description":"selected handling organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"referral agreements for handling_organization response","schema":{"$ref":"#/definitions/ReferralAgreementsWithHFIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/organizations/{organization_id}/handling_organizations/{handling_organization_id}/referrals":{"post":{"description":"[DEPRECATED] Create a referral with organization_id as OF and handling_organization_id as HF","operationId":"createReferralForOFandHF","tags":["organization","handling_organization","referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected originating organization","required":true,"type":"integer","format":"int64"},{"name":"handling_organization_id","in":"path","description":"selected handling organization","required":true,"type":"integer","format":"int64"},{"name":"referral","in":"body","description":"referral data","required":true,"schema":{"$ref":"#/definitions/ReferralForHFWithAgreementInput"}}],"responses":{"200":{"description":"referral agreements for handling_organization response","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"422":{"description":"ValidationError. e.g. inactive organization cannot be specified","schema":{"$ref":"#/definitions/ValidationError"}}}}},"/authenticate":{"post":{"description":"Sign in","operationId":"signInUser","tags":["user"],"parameters":[{"name":"sign_in_fields","in":"body","description":"email and pass","required":true,"schema":{"$ref":"#/definitions/SignInInput"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserWithOrganizationAndJoinRequest"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"},"X-User-Refresh-Token":{"type":"string","description":"refresh token so clients can reauthenticate without user/password"},"X-User-Feature-Toggles":{"type":"string","description":"key-value hash containing enabled feature toggles as json"}}}}}},"/refresh_session":{"post":{"description":"Refresh session with refresh token","operationId":"refreshTokenUser","tags":["user"],"parameters":[{"name":"refresh_token","in":"body","description":"jwt refresh_token","required":true,"type":"string","example":"sample.jwt.token"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserWithOrganizationAndJoinRequest"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"},"X-User-Refresh-Token":{"type":"string","description":"refresh token so clients can reauthenticate without user/password"},"X-User-Feature-Toggles":{"type":"string","description":"key-value hash containing enabled feature toggles as json"}}}}}},"/logout":{"post":{"description":"Logout","operationId":"logoutUser","tags":["user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"}],"responses":{"200":{"description":"Sample logout message"}}}},"/admin/authenticate":{"post":{"description":"Sign in","operationId":"signInAdminUser","tags":["admin user"],"parameters":[{"name":"sign_in_fields","in":"body","description":"email and pass","required":true,"schema":{"$ref":"#/definitions/SignInInput"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/AdminUserBasicData"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"},"X-User-Refresh-Token":{"type":"string","description":"refresh token so clients can reauthenticate without user/password"}}}}}},"/admin/refresh_session":{"post":{"description":"Refresh session with refresh token","operationId":"refreshTokenAdminUser","tags":["admin user"],"parameters":[{"name":"refresh_token","in":"body","description":"jwt refresh_token","required":true,"type":"string","example":"sample.jwt.token"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/AdminUserBasicData"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"},"X-User-Refresh-Token":{"type":"string","description":"refresh token so clients can reauthenticate without user/password"}}}}}},"/admin/logout":{"post":{"description":"Logout admin","operationId":"logoutAdminUser","tags":["admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"}],"responses":{"200":{"description":"Sample logout message"}}}},"/organizations/{organization_id}/join_requests":{"post":{"description":"Send a join request to admins of selected organization","operationId":"createJoinRequest","tags":["join requests"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"join request response","schema":{"$ref":"#/definitions/JoinRequestCreate"}}}},"get":{"description":"List all join requests of the admin user authenticated","operationId":"indexJoinRequest","tags":["join requests"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"join request response","schema":{"$ref":"#/definitions/JoinRequestIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/join_requests/{join_request_id}/accept":{"put":{"description":"As an admin of the organization, accept join request","operationId":"acceptJoinRequest","tags":["join requests"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"join_request_id","in":"path","description":"selected join request","required":true,"type":"integer","format":"int64"},{"name":"request_token","in":"body","description":"request_token","required":true,"type":"string","example":"sample_token"}],"responses":{"200":{"description":"join request response","schema":{"$ref":"#/definitions/JoinRequestAccept"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/join_requests/{join_request_id}/reject":{"put":{"description":"As an admin of the organization, reject join request","operationId":"rejectJoinRequest","tags":["join requests"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"join_request_id","in":"path","description":"selected join request","required":true,"type":"integer","format":"int64"},{"name":"request_token","in":"body","description":"request_token","required":true,"type":"string","example":"sample_token"}],"responses":{"200":{"description":"join request response","schema":{"$ref":"#/definitions/JoinRequestReject"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/join_requests/{join_request_id}":{"get":{"description":"Get Join Request by id","operationId":"getJoinRequest","tags":["join requests"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"join_request_id","in":"path","description":"selected join request","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"join request response","schema":{"$ref":"#/definitions/JoinRequest"}},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}}}}},"/join_invitations/{id}":{"get":{"description":"Show a join invitation","operationId":"showJoinInvitation","tags":["join invitations"],"parameters":[{"name":"id","in":"path","description":"selected join invitations","required":true,"type":"integer","format":"int64"},{"name":"invitation_token","in":"query","description":"join invitation token","required":true,"type":"string","example":"af3139sdfvaf-pdGAS"}],"responses":{"200":{"description":"join invitation response","schema":{"$ref":"#/definitions/JoinInvitation"}}}}},"/organizations/{organization_id}/join_invitations":{"post":{"description":"Send a join invitation to specified email","operationId":"createJoinInvitation","tags":["join invitations"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"join_invitation","in":"body","description":"join invitation data","required":true,"schema":{"$ref":"#/definitions/JoinInvitationInput"}}],"responses":{"200":{"description":"join invitation response","schema":{"$ref":"#/definitions/JoinInvitationsCreate"}}}},"get":{"description":"List all join invitations of the admin user authenticated still pending","operationId":"indexJoinInvitation","tags":["join invitations"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"join invitations response","schema":{"$ref":"#/definitions/JoinInvitationIndex"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/join_invitations/{join_invitation_id}/accept_existing_user":{"put":{"description":"As current_user accept join invitation","operationId":"acceptJoinInvitation","tags":["join invitations"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"join_invitation_id","in":"path","description":"selected join invitation","required":true,"type":"integer","format":"int64"},{"name":"invitation_token","in":"body","description":"invitation_token","required":true,"type":"string","example":"sample_token"}],"responses":{"200":{"description":"join invitation response","schema":{"$ref":"#/definitions/JoinInvitationAccept"}}}}},"/organizations/{organization_id}/join_invitations/{id}":{"delete":{"description":"Delete an already sent join invitation","operationId":"deleteJoinInvitation","tags":["join invitations"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"id","in":"path","description":"selected join_invitation","required":true,"type":"integer","format":"int64"}],"responses":{"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"200":{"description":"join invitations response","schema":{"$ref":"#/definitions/JoinInvitationIndex"}}}}},"/join_invitations/{join_invitation_id}/create_user_and_accept":{"put":{"description":"Create a new user and accept join invitation","operationId":"createUserAndAcceptJoinInvitation","tags":["join invitations"],"parameters":[{"name":"join_invitation_id","in":"path","description":"selected join invitation","required":true,"type":"integer","format":"int64"},{"name":"invitation_token","in":"body","description":"invitation_token","required":true,"type":"string","example":"sample_token"},{"name":"user","in":"body","description":"user data","required":true,"schema":{"$ref":"#/definitions/UserInputWithUserRootNode"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserBasicData"},"headers":{"X-User-Access-Token":{"type":"string","description":"access token to be sent in following requests"}}}}}},"/incoming_referrals":{"get":{"description":"List all incoming_referrals. Referrals in status :new are filtered out, because they should be unassigned. \n Return all referals for signed in user, in case signed in user is admin of the organization all referrals handled by the organization will be returned.","operationId":"indexIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"handling_user_id","in":"query","description":"Filter by handling user","required":false,"type":"integer"},{"name":"referral_status","in":"query","description":"Only returns referrals of the given status. One of: 'inbox', 'to_be_accepted', 'to_be_signed', 'active', 'signed_up', 'won', 'settled', 'lost', 'turned_down'","required":false,"type":"string"},{"name":"case_location_state","in":"query","description":"Only returns referral_intakes with the given case_location_state","required":false,"type":"string"},{"name":"search","in":"query","description":"Only returns referral_intakes for the given search query","required":false,"type":"string"},{"name":"updated_since_utc","in":"query","description":"Only referrals updated since","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"order_by","in":"query","description":"Returns incoming referrals ordered by the given param. One of: 'updated_at' 'status' 'case_type' 'case_location_state' 'referred_by' 'referal_id'","required":false,"type":"string"},{"name":"ordered","in":"query","description":"asc or desc","required":false,"type":"string"},{"name":"page","in":"query","description":"Page number for paginated results","required":false,"type":"integer"},{"name":"per","in":"query","description":"Items per page","required":false,"type":"integer"}],"responses":{"200":{"description":"array of incoming referrals","schema":{"$ref":"#/definitions/IncomingReferralsIndex"}}}}},"/incoming_referrals/get_all_for_salesforce":{"get":{"description":"List all incoming_referrals. Referrals in status :new are filtered out, because they should be unassigned. \n Return all referals for signed in user, in case signed in user is admin of the organization all referrals handled by the organization will be returned.","operationId":"indexIncomingReferralsForSalesforce","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"handling_user_id","in":"query","description":"Filter by handling user","required":false,"type":"integer"},{"name":"referral_status","in":"query","description":"Only returns referrals of the given status. One of: 'inbox', 'active', 'signed_up', 'won', 'settled', 'lost', 'turned_down'","required":false,"type":"string"},{"name":"search","in":"query","description":"Only returns referral_intakes for the given search query","required":false,"type":"string"},{"name":"updated_since_utc","in":"query","description":"Only referrals updated since","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"order_by","in":"query","description":"Returns incoming referrals ordered by the given param. One of: 'updated_at'","required":false,"type":"string"},{"name":"page","in":"query","description":"Page number for paginated results","required":false,"type":"integer"},{"name":"per","in":"query","description":"Items per page","required":false,"type":"integer"}],"responses":{"200":{"description":"array of incoming referrals","schema":{"$ref":"#/definitions/IncomingReferralsSalesforce"}}}}},"/incoming_referrals/{id}":{"get":{"description":"Show referral","operationId":"showIncomingReferral","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":false,"type":"string"},{"name":"access_token","in":"query","description":"access token when no User-Access-Token","required":false,"type":"string"},{"name":"current_user_id","in":"query","description":"current_user_id claim","required":false,"type":"string"},{"name":"id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"accepted incoming referral","schema":{"$ref":"#/definitions/ReferralShow"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/incoming_referrals/{incoming_referral_id}/attorney_showed_interest":{"put":{"description":"Show interest in one of referral that is in status sent_to_attorney","operationId":"attorneyShowedInterestIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":false,"type":"string"},{"name":"access_token","in":"body","description":"access token when no User-Access-Token","required":false,"type":"string"},{"name":"current_user_id","in":"body","description":"current_user_id claim","required":false,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"handling_user_id","in":"body","description":"assigned attorney","type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"accepted incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/attorney_declined_upon_acceptance_request":{"put":{"description":"Decline a referral that is in status sent_to_attorney","operationId":"attorneyDeclinedUponAcceptanceRequestIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":false,"type":"string"},{"name":"access_token","in":"body","description":"access token when no User-Access-Token","required":false,"type":"string"},{"name":"current_user_id","in":"body","description":"current_user_id claim","required":false,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"case_turn_down_reason","in":"body","description":"Reason why turning down referral","example":"A good reason for rejecting case","type":"string"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"accepted incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/attorney_declined_after_review":{"put":{"description":"Decline a referral that is in status attorney_interested","operationId":"attorneyDeclinedAfterReviewIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"case_turn_down_reason","in":"body","description":"Reason why turning down referral","example":"A good reason for rejecting case","type":"string"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"accepted incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/attorney_engaged_client":{"put":{"description":"Attorney engaged client","operationId":"attorneyEngagedClientIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"active incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/case_settled":{"put":{"description":"Case is settled","operationId":"caseSettledIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"amount_cents","in":"body","description":"Amount","example":18000000,"type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"settled incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/go_to_court":{"put":{"description":"Case goes to trial","operationId":"goToTrialIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"on_trial incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/attorney_turn_down_engaged_case":{"put":{"description":"Turn down referral that is in status active","operationId":"attorneyTurnDownEngagedCaseIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"case_turn_down_reason","in":"body","description":"Reason why turning down referral","example":"A good reason for rejecting case","type":"string"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"accepted incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/lost_case":{"put":{"description":"Case goes to lost","operationId":"goToLostIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"case_lost_reason","in":"body","description":"Reason why case was lost","example":"We lost because...","type":"string"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"lost incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/won":{"put":{"description":"Case goes to verdict","operationId":"goToVerdictIncomingReferrals","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"amount_cents","in":"body","description":"Amount","example":18000000,"type":"integer","format":"int64"},{"name":"status_update","in":"body","description":"optional status update data","required":false,"schema":{"$ref":"#/definitions/IncomingReferralActionsStatusUpdateInput"}}],"responses":{"200":{"description":"verdict incoming referral","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"422":{"description":"ValidationError. amount_cents must be a number","schema":{"$ref":"#/definitions/ValidationError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/incoming_referrals/{incoming_referral_id}/reassign_attorney":{"put":{"description":"Reassing the attorney to a given referral","operationId":"reassignReferralAttorney","tags":["incoming referrals"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"incoming_referral_id","in":"path","description":"selected referral","required":true,"type":"integer","format":"int64"},{"name":"handling_user_id","in":"body","description":"reassigned attorney","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"reassigned referral handling user","schema":{"$ref":"#/definitions/ReferralBasicData"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}},"409":{"description":"Invalid operation error. For example, you are attempting an invalid transition","schema":{"$ref":"#/definitions/InvalidTransitionError"}}}}},"/referral_intakes":{"post":{"description":"Create a referral intake","operationId":"createReferralIntake","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake","in":"body","description":"referral_intake data","required":true,"schema":{"$ref":"#/definitions/ReferralIntakeInput"}}],"responses":{"200":{"description":"referral_intake response","schema":{"$ref":"#/definitions/ReferralIntakeBasicData"}}}},"get":{"description":"List all outgoing referrals. Return all referals for signed in user","operationId":"indexReferralIntakes","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"status","in":"query","description":"Only returns referral_intakes for the given status. One of: 'new', 'pending', turned_down', 'signed_up', 'won', 'lost'","required":false,"type":"string"},{"name":"search","in":"query","description":"Only returns referral_intakes for the given search query","required":false,"type":"string"},{"name":"case_type_id","in":"query","description":"Only returns referral_intakes with the given case_type_id","required":false,"type":"string"},{"name":"case_location_state","in":"query","description":"Only returns referral_intakes with the given case_location_state","required":false,"type":"string"},{"name":"handling_organization_id","in":"query","description":"Only referrals handled by specific organizations","required":false,"type":"string"},{"name":"order_by","in":"query","description":"Returns referral_intakes ordered by the given param. One of: 'created_at', 'updated_at', 'case_type', 'client_name'","required":false,"type":"string"},{"name":"created_at_start","in":"query","description":"Only referrals created since","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"created_at_end","in":"query","description":"Only referrals created until","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"updated_since_utc","in":"query","description":"Only referrals updated since","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"page","in":"query","description":"Page number for paginated results","required":false,"type":"integer"},{"name":"per","in":"query","description":"Items per page","required":false,"type":"integer"}],"responses":{"200":{"description":"array of outgoing referrals","schema":{"$ref":"#/definitions/ReferralIntakesIndex"}}}}},"/referral_intakes/get_all_for_salesforce":{"get":{"description":"List all outgoing referrals. Return all referals for signed in user","operationId":"indexReferralIntakesForSalesforce","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"status","in":"query","description":"Only returns referral_intakes for the given status. One of: 'turned_down', 'signed_up', 'won', 'lost'","required":false,"type":"string"},{"name":"search","in":"query","description":"Only returns referral_intakes for the given search query","required":false,"type":"string"},{"name":"case_type_id","in":"query","description":"Only returns referral_intakes with the given case_type_id","required":false,"type":"string"},{"name":"order_by","in":"query","description":"Returns referral_intakes ordered by the given param. One of: 'created_at', 'updated_at', 'case_type', 'client_name'","required":false,"type":"string"},{"name":"updated_since_utc","in":"query","description":"Only referrals updated since","required":false,"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},{"name":"page","in":"query","description":"Page number for paginated results","required":false,"type":"integer"},{"name":"per","in":"query","description":"Items per page","required":false,"type":"integer"}],"responses":{"200":{"description":"array of outgoing referrals","schema":{"$ref":"#/definitions/ReferralIntakesSalesforce"}}}}},"/referral_intakes/{id}":{"get":{"description":"Show ReferralIntake","operationId":"showReferralIntakeAsAdmin","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"ReferralIntake with active_referral","schema":{"$ref":"#/definitions/ReferralIntakeWithEvents"}}}}},"/referral_intakes/{referral_intake_id}/resend":{"post":{"description":"[DEPRECATED] Create a referral","operationId":"createReferralResendToNewHF","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"referral_intake","in":"body","description":"referral_intake data","required":true,"schema":{"$ref":"#/definitions/ReferralIntakeResend"}}],"responses":{"200":{"description":"referral_intake response","schema":{"$ref":"#/definitions/ReferralIntakeWithActiveReferral"}}}}},"/referral_intakes/{referral_intake_id}/give_up":{"put":{"description":"OF chooses to give up referral","operationId":"giveUpReferralAsAnOf","tags":["referral intakes"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"referral_intake response","schema":{"$ref":"#/definitions/ReferralIntakeWithActiveReferral"}}}}},"/suggested_referrals":{"post":{"description":"Create a suggested referral","operationId":"createSuggestedReferral","tags":["suggested referral"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"suggested_referral","in":"body","description":"suggested_referral data","required":true,"schema":{"$ref":"#/definitions/SuggestedReferralInput"}}],"responses":{"200":{"description":"suggested_referral response","schema":{"$ref":"#/definitions/SuggestedReferralData"}},"422":{"description":"ValidationError. e.g. inactive organization cannot be specified","schema":{"$ref":"#/definitions/ValidationError"}}}}},"/suggested_referrals/{id}":{"get":{"description":"Get suggested referral","operationId":"getSuggestedReferral","tags":["suggested referral"],"parameters":[{"name":"id","in":"path","description":"selected suggested referral","required":true,"type":"integer","format":"int64"},{"name":"access_token","in":"query","description":"suggested referral token","required":true,"type":"string","example":"af3139sdfvaf-pdGAS"}],"responses":{"200":{"description":"suggested_referral response","schema":{"$ref":"#/definitions/SuggestedReferralData"}}}}},"/suggested_referrals/{suggested_referrals_id}/accept":{"put":{"description":"Accept suggested_referral and create a proper referral from suggested_referrals","operationId":"acceptSuggestedReferral","tags":["suggested referral"],"parameters":[{"name":"suggested_referrals_id","in":"path","description":"selected suggested referral","required":true,"type":"integer","format":"int64"},{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"access_token","in":"form","description":"suggested referral token","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"referral response","schema":{"$ref":"#/definitions/ReferralBasicData"}}}}},"/admin/users/{user_id}":{"get":{"description":"Get User by id. The organization admin or the actual user can show user.","operationId":"showUserForAdmin","tags":["user","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"user_id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/UserWithOrganizationAndJoinRequest"}},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}},"401":{"description":"policy based authorization. For example, when only owner of an object can edit it","schema":{"$ref":"#/definitions/PunditError"}}}}},"/admin/users/{user_id}/password_resets":{"post":{"description":"Send a reset password request","operationId":"adminSendResetPasswordRequest","tags":["user","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"user_id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"sent request response","schema":{"$ref":"#/definitions/resetPasswordRequestSent"}},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}}}}},"/admin/users/{user_id}/turn_down_incoming_referrals":{"post":{"description":"Turn down incoming referrals for user","operationId":"adminTurnDownIncomingReferrals","tags":["user","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"user_id","in":"path","description":"selected user","required":true,"type":"integer","format":"int64"},{"name":"custom_turn_down_reason","in":"form","description":"custom message, default is: 'Client unresponsive'","required":false,"type":"string"}],"responses":{"200":{"description":"sent request response"},"404":{"description":"Record not found error","schema":{"$ref":"#/definitions/RecordNotFoundError"}}}}},"/admin/organizations":{"get":{"description":"List existing organizations","operationId":"indexOrganization","tags":["organization","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"page","in":"query","description":"Page number for paginated results","required":false,"type":"integer"},{"name":"per","in":"query","description":"Items per page","required":false,"type":"integer"},{"name":"state","in":"query","description":"State code, from US. i.e. 'CA', 'NY', etc...","required":false,"type":"string"},{"name":"case_type_id","in":"query","description":"Case type id","required":false,"type":"string"},{"name":"with_agreement_status","in":"query","description":"Include organizations agreement status?","required":false,"type":"string"},{"name":"status","in":"query","description":"filter by agreement status. pending/signed","required":false,"type":"string"},{"name":"name","in":"query","description":"Organization name contains parameter","required":false,"type":"string","example":"Pearson"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationsIndex"}}}}},"/admin/case_types":{"get":{"description":"List existing CaseTypes","operationId":"indexCaseType","tags":["admin user","case type"],"parameters":[{"name":"with_deleted","in":"query","description":"when present returns deleted case types","required":false,"type":"string"},{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"}],"responses":{"200":{"description":"case_types response","schema":{"$ref":"#/definitions/CaseTypesIndex"}}}}},"/admin/organizations/{organization_id}/users":{"get":{"description":"List members of the organization","operationId":"userIndexOnOrganization","tags":["organization","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}}}}},"/admin/organizations/{organization_id}/users/{user_id}/promote_to_admin":{"put":{"description":"Promote a member to admin","operationId":"adminPromoteMemberToAdminOrganization","tags":["organization","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected member","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}}}}},"/admin/organizations/{organization_id}/users/{user_id}/revoke_admin_role":{"put":{"description":"Revoka a members admin role","operationId":"adminRevokeMemberAdminRoleOrganization","tags":["organization","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"},{"name":"user_id","in":"path","description":"selected member","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/UsersOnOrganizationsIndex"}}}}},"/admin/organizations/{organization_id}/signatures":{"post":{"description":"Create a signature for the latest agreement, unblocking organization","operationId":"createSignatureForOrganization","tags":["organization","admin user"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"organization_id","in":"path","description":"selected organization","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"organization response","schema":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}}}}},"/referral_intakes/{referral_intake_id}/documents":{"get":{"description":"Get a list of uploaded documents","operationId":"getDocumentMetadata","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Uploaded Document metadata response","schema":{"$ref":"#/definitions/DocumentsUploaded"}},"401":{"description":"Policy based authorization. Only originating user or originating organization admin or handling user or handling organization admin can view documents","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Document Forbidden error if invalid referral status","schema":{"$ref":"#/definitions/Document403Error"}}}},"post":{"description":"Create Document Metadata","operationId":"createDocumentMetadata","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"documents","in":"body","required":true,"type":"array","description":"Document Request Metadata","schema":{"$ref":"#/definitions/DocumentRequestMetadata"}}],"responses":{"200":{"description":"Document metadata response","schema":{"$ref":"#/definitions/DocumentMetadata"}},"401":{"description":"Policy based authorization. For example, when only owner of an object or Organization admin can complete it","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Document Parameters Limit, Documents per Referral Limit, Document Forbidden and Document Too Large errors","schema":{"$ref":"#/definitions/Document403Error"}}}}},"/referral_intakes/{referral_intake_id}/documents/download":{"get":{"description":"Download Document(s)","operationId":"downloadDocuments","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"ids","in":"query","description":"document id(s) ex: ?ids=13,14,15","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Document Download url","schema":{"$ref":"#/definitions/DocumentDownloadUrl"}},"401":{"description":"policy based authorization. Only originating user or originating organization admin or handling user or handling organization admin can download documents","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Document Forbidden error if invalid referral status","schema":{"$ref":"#/definitions/Document403Error"}}}}},"/referral_intakes/{referral_intake_id}/documents/{document_id}/upload_to_salesforce":{"post":{"description":"Upload document to Salesforce by creating Content Version sobject","operationId":"uploadToSalesforce","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"Selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"document_id","in":"path","required":true,"type":"integer","description":"Selected Document","format":"int64"},{"name":"body","in":"body","description":"Salesforce access token, record id and org host name","type":"string","schema":{"$ref":"#/definitions/SalesforceDocumentUploaderRequestBody"}}],"responses":{"201":{"description":"Salesforce success response","schema":{"$ref":"#/definitions/SalesforceUploadResponse"}},"401":{"description":"Policy based authorization. For example, when only owner of an object or Organization admin can complete it","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Document Forbidden error if invalid referral status","schema":{"$ref":"#/definitions/Document403Error"}},"422":{"description":"Aws Error","schema":{"$ref":"#/definitions/AwsError"}}}}},"/referral_intakes/{referral_intake_id}/documents/{document_id}":{"patch":{"description":"Complete Document Creation","operationId":"completeDocumentCreation","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"document_id","in":"path","description":"selected document","required":true,"type":"integer","format":"int64"},{"name":"uploaded","in":"body","description":"Telling the API that the PUT to S3 succeeded","schema":{"$ref":"#/definitions/DocumentUploaded"}}],"responses":{"200":{"description":"document response","schema":{"$ref":"#/definitions/Document"}},"401":{"description":"policy based authorization. For example, when only owner of an object or Organization admin can create it","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Documents per Referral Limit, File Size Error, Content Type Error, Document Forbidden and Document Too Large errors","schema":{"$ref":"#/definitions/Document403Error"}},"422":{"description":"Aws Error","schema":{"$ref":"#/definitions/AwsError"}}}},"delete":{"description":"Delete Document Metadata and object from S3 bucket","operationId":"deleteDocument","tags":["documents"],"parameters":[{"name":"X-User-Access-Token","in":"header","description":"access token","required":true,"type":"string"},{"name":"referral_intake_id","in":"path","description":"selected referral intake","required":true,"type":"integer","format":"int64"},{"name":"document_id","in":"path","description":"selected document","required":true,"type":"integer","format":"int64"}],"responses":{"204":{"description":"No content"},"401":{"description":"Policy based authorization. For example, when only owner of an object or Organization admin can delete it","schema":{"$ref":"#/definitions/PunditUnauthorized"}},"403":{"description":"Document Forbidden error","schema":{"$ref":"#/definitions/Document403Error"}}}}}},"definitions":{"UserInput":{"required":["first_name","last_name","email","password"],"properties":{"first_name":{"type":"string","example":"Harvey"},"last_name":{"type":"string","example":"Specter"},"email":{"type":"string","example":"hspecter@ps.com"},"password":{"type":"string","example":"123456789"},"phone":{"type":"string","example":"347-853-8893"}}},"SignUpFromInvite":{"properties":{"user":{"$ref":"#/definitions/UserInput"},"organization":{"$ref":"#/definitions/OrganizationUpdateInput"},"suggested_referral_id":{"type":"integer","format":"int64","example":1231},"suggested_referral_access_token":{"type":"string","example":"12dsfasdf4a461134312asd"},"agreement_id":{"type":"integer","format":"int64","example":2}}},"UserInputWithUserRootNode":{"properties":{"user":{"$ref":"#/definitions/UserInput"}}},"UserUpdateInput":{"properties":{"first_name":{"type":"string","example":"Harvey"},"last_name":{"type":"string","example":"Specter"},"email":{"type":"string","example":"hspecter@ps.com"},"phone":{"type":"string","example":"347-853-8893"},"password":{"type":"string","example":"123456789"},"password_confirmation":{"type":"string","example":"123456789"},"current_password":{"type":"string","example":"hogehoge"},"direct_upload_url":{"type":"string","example":"https://aws.amazon.com/asdsad"}}},"UserBasicData":{"properties":{"klass":{"type":"string","example":"User"},"id":{"type":"integer","format":"int64","example":1231},"first_name":{"type":"string","example":"Harvey"},"last_name":{"type":"string","example":"Specter"},"email":{"type":"string","example":"hspecter@ps.com"},"phone":{"type":"string","example":"347-853-8893"},"profile_picture_thumb":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/profile_pictures/thumb/missing.jpg"},"profile_picture_small":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/profile_pictures/small/missing.jpg"},"profile_picture_medium":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/profile_pictures/medium/missing.jpg"},"profile_picture_large":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/profile_pictures/large/missing.jpg"}}},"UserShow":{"allOf":[{"$ref":"#/definitions/UserWithOrganizationAndJoinRequest"},{"properties":{"signed_url":{"type":"string","example":"https://litify-bucket-dev.s3.amazonaws.com/i_am_a_signed_url"}}}]},"UserWithOrganization":{"properties":{"klass":{"type":"string","example":"User"},"id":{"type":"integer","format":"int64","example":1231},"first_name":{"type":"string","example":"Harvey"},"last_name":{"type":"string","example":"Specter"},"email":{"type":"string","example":"hspecter@ps.com"},"phone":{"type":"string","example":"347-853-8893"},"user_organization":{"$ref":"#/definitions/UserOrganization"}}},"UsersOnOrganizationsIndex":{"properties":{"users":{"type":"array","items":{"$ref":"#/definitions/UserWithOrganization"}}}},"SignInInput":{"required":["email","password"],"properties":{"email":{"type":"string","example":"hspecter@ps.com"},"password":{"type":"string","example":"123456789"}}},"UserOrganizationBasicData":{"properties":{"admin":{"type":"boolean","example":true},"deactivated":{"type":"boolean","example":true},"receive_referrals":{"type":"boolean","example":true},"primary_contact":{"type":"boolean","example":true},"can_reassign_users":{"type":"boolean","example":true},"is_bcc_in_referral_emails":{"type":"boolean","example":true},"can_see_dashboards":{"type":"boolean","example":true}}},"UserOrganization":{"allOf":[{"$ref":"#/definitions/UserOrganizationBasicData"},{"properties":{"organization":{"$ref":"#/definitions/OrganizationWithLocation"}}}]},"UserOrganizationWithSignInInformation":{"allOf":[{"$ref":"#/definitions/UserOrganizationBasicData"},{"properties":{"organization":{"$ref":"#/definitions/OrganizationWithSignInInformation"}}}]},"resetPasswordRequestSent":{"properties":{"message":{"type":"string","example":"The reset password request has been sent"}}},"updatePassword":{"properties":{"message":{"type":"string","example":"The password has been updated"}}},"resetPasswordFields":{"properties":{"reset_password_token":{"type":"string","example":"deb5ebccbe987e82d50b326ea801c42bfc704b50a5582e9140040e0fe5e927fd"},"password":{"type":"string","example":"123456789"},"password_confirmation":{"type":"string","example":"123456789"}}},"emailField":{"properties":{"email":{"type":"string","example":"zoe@stehr.biz"}}},"UserSettings":{"properties":{"admin":{"type":"boolean","example":true},"primary_contact":{"type":"boolean","example":true},"receive_referrals":{"type":"boolean","example":true},"can_reassign_users":{"type":"boolean","example":true},"can_see_dashboards":{"type":"boolean","example":true},"is_bcc_in_referral_emails":{"type":"boolean","example":true}}},"EmailNotifications":{"properties":{"created_referrals":{"type":"boolean","example":true},"feature_updates":{"type":"boolean","example":true},"join_requests_and_invitations":{"type":"boolean","example":true},"promotional":{"type":"boolean","example":true},"received_referrals":{"type":"boolean","example":true},"sent_referral_status":{"type":"boolean","example":true}}},"UserWithOrganizationAndJoinRequest":{"allOf":[{"$ref":"#/definitions/UserBasicData"},{"properties":{"user_organization":{"$ref":"#/definitions/UserOrganizationWithSignInInformation"},"join_request":{"$ref":"#/definitions/JoinRequestOrganizationData"}}}]},"OrganizationWithLocationInput":{"properties":{"name":{"type":"string","example":"Pearson Specter"},"phone":{"type":"string","example":"347 854 3165"},"firm_statement":{"type":"string","example":"Operative homogeneous project. Innovative hybrid utilisation. Voluptas commodi ducimus dolores atque voluptatem sit nemo quo. Quisquam distinctio ipsa libero rerum aut exercitationem quos. Rerum et at expedita qui in. Atque magnam neque soluta suscipit commodi eos eum aut. Voluptatem pariatur dolor dolores consectetur qui."},"website_url":{"type":"string","example":"https://forthepeople.com"},"shadow":{"type":"boolean","example":false},"location":{"$ref":"#/definitions/OrganizationLocationInput"},"agreement_id":{"type":"integer","format":"int64","example":785},"firm_size":{"type":"string","example":"1-20"}}},"OrganizationLocationInput":{"properties":{"address1":{"type":"string","example":"74133 3rd Av."},"address2":{"type":"string","example":"31st floor"},"postal_code":{"type":"string","example":"10014"},"city":{"type":"string","example":"Los Angeles"},"state":{"type":"string","example":"CA"}}},"OrganizationCreateInput":{"allOf":[{"$ref":"#/definitions/OrganizationUpdatePracticeAreasInput"},{"$ref":"#/definitions/OrganizationWithLocationInput"}]},"OrganizationUpdateInput":{"allOf":[{"$ref":"#/definitions/OrganizationUpdatePracticeAreasInput"},{"$ref":"#/definitions/OrganizationWithLocationInput"},{"properties":{"fax":{"type":"string","example":"+1 212 221 2222"},"direct_upload_url":{"type":"string","example":"https://direct_url.s3.amazonaws.com/image"}}}]},"OrganizationWithLocation":{"allOf":[{"$ref":"#/definitions/OrganizationBasicData"},{"properties":{"location":{"$ref":"#/definitions/OrganizationLocation"},"primary_location":{"$ref":"#/definitions/OrganizationLocation"},"locations":{"type":"array","items":{"$ref":"#/definitions/OrganizationLocation"}}}}]},"OrganizationsLocationIndex":{"properties":{"locations":{"type":"array","items":{"$ref":"#/definitions/OrganizationLocation"}}}},"OrganizationWithLocationAndPracticeAreas":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocation"},{"properties":{"practice_areas":{"$ref":"#/definitions/OrganizationPracticeAreas"}}}]},"OrganizationWithSignedUrl":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocation"},{"properties":{"practice_areas":{"$ref":"#/definitions/OrganizationPracticeAreas"}}},{"properties":{"signed_url":{"type":"string","example":"https://litify-bucket-dev.s3.amazonaws.com/i_am_a_signed_url"}}}]},"OrganizationWithPrimaryContacts":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"},{"properties":{"primary_contacts":{"type":"array","items":{"$ref":"#/definitions/UserBasicData"}}}}]},"OrganizationLocation":{"properties":{"klass":{"type":"string","example":"Location"},"id":{"type":"integer","format":"int64","example":785},"address1":{"type":"string","example":"74133 3rd Av."},"address2":{"type":"string","example":"31st floor"},"postal_code":{"type":"string","example":"10014"},"city":{"type":"string","example":"Los Angeles"},"state":{"type":"string","example":"CA"},"district":{"type":"string","example":"District"},"country":{"type":"string","example":"US"},"latitude":{"type":"float","example":38.4685363769531},"longitude":{"type":"float","example":-73.667595}}},"OrganizationPracticeAreas":{"type":"array","items":{"$ref":"#/definitions/CaseType"}},"OrganizationsIndex":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}}}},"OrganizationsGetAllForSF":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithPrimaryContacts"}}}},"OrganizationsReferralNetworkReport":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationForReferralNetworkReport"}}}},"UsersAndOrganizationsSearchWithFuzzy":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}},"organizations_fuzzy_match":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}},"users":{"type":"array","items":{"$ref":"#/definitions/UserWithOrganization"}},"users_fuzzy_match":{"type":"array","items":{"$ref":"#/definitions/UserWithOrganization"}}}},"OrganizationsSearchWithFuzzy":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}},"organizations_fuzzy_match":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}}}},"OrganizationsIndexWithFuzzy":{"properties":{"organizations":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithPrimaryContacts"}},"organizations_fuzzy_match":{"type":"array","items":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}}}},"OrganizationShow":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"},{"properties":{"members":{"$ref":"#/definitions/OrganizationMembers"}}},{"properties":{"signed_url":{"type":"string","example":"https://litify-bucket-dev.s3.amazonaws.com/i_am_a_signed_url"}}}]},"OrganizationMembers":{"type":"array","items":{"$ref":"#/definitions/UserWithOrganization"}},"OrganizationBasicData":{"properties":{"klass":{"type":"string","example":"Organization"},"id":{"type":"integer","format":"int64","example":785},"name":{"type":"string","example":"Pearson Specter"},"phone":{"type":"string","example":"347-854-3165"},"fax":{"type":"string","example":"347-854-3165"},"website_url":{"type":"string","example":"https://forthepeople.com"},"firm_statement":{"type":"string","example":"Firm Statement"},"shadow":{"type":"boolean","example":false},"firm_size":{"type":"string","example":"1-20"},"deactivated_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"logo_thumb":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/logos/thumb/missing.jpg"},"logo_small":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/logos/small/missing.jpg"},"logo_medium":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/logos/medium/missing.jpg"},"logo_large":{"type":"string","example":"http://litify.s3.amazonaws.com/defaults/organizations/logos/large/missing.jpg"},"any_referral_agreements_with_current_user_where_firm_is_of":{"type":"boolean","example":false},"any_referral_agreements_with_current_user_where_firm_is_hf":{"type":"boolean","example":false}}},"OrganizationWithSignInInformation":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"},{"properties":{"signed_msa":{"type":"boolean","example":true},"settings_default_expiry_in_seconds":{"type":"integer","format":"int64"},"litify_settings_default_expiry_in_seconds":{"type":"integer","format":"int64"}}}]},"OrganizationUpdatePracticeAreasInput":{"required":["practice_areas_ids"],"properties":{"practice_areas_ids":{"type":"array","items":{"type":"integer","format":"int64","example":785}}}},"OrganizationAgreementStatus":{"properties":{"status":{"type":"string","example":"One of: ready_to_sign, creating_document, no_signature_required"}}},"OrganizationForReferralNetworkReport":{"allOf":[{"$ref":"#/definitions/OrganizationWithLocation"},{"properties":{"incoming_count":{"type":"integer","example":9,"format":"int64"},"outgoing_count":{"type":"integer","example":8,"format":"int64"},"outgoing_won_settled_count":{"type":"integer","example":4,"format":"int64"},"outgoing_won_settled_percentage":{"type":"integer","example":50,"format":"int64"}}}]},"JoinRequestIndex":{"properties":{"join_requests":{"type":"array","items":{"$ref":"#/definitions/JoinRequest"}}}},"JoinRequest":{"properties":{"klass":{"type":"string","example":"JoinRequest"},"id":{"type":"integer","format":"int64","example":1231},"request_token":{"type":"string","example":"ErPN7VFJuEq8N7b-Z-xV"},"accepted":{"type":"boolean","example":true},"rejected":{"type":"boolean","example":true},"requesting_user":{"$ref":"#/definitions/UserBasicData"},"organization":{"$ref":"#/definitions/OrganizationBasicData"}}},"JoinRequestOrganizationData":{"properties":{"request_token":{"type":"string","example":"ErPN7VFJuEq8N7b-Z-xV"},"accepted":{"type":"boolean","example":true},"organization":{"$ref":"#/definitions/OrganizationBasicData"}}},"JoinRequestCreate":{"properties":{"message":{"type":"string","example":"A join request was send to organization's admins"}}},"JoinRequestAccept":{"properties":{"message":{"type":"string","example":"The join request was accepted successfully"}}},"JoinRequestReject":{"properties":{"message":{"type":"string","example":"The join request was rejected successfully"}}},"JoinInvitationIndex":{"properties":{"join_invitations":{"type":"array","items":{"$ref":"#/definitions/JoinInvitation"}}}},"JoinInvitation":{"allOf":[{"properties":{"klass":{"type":"string","example":"JoinInvitation"},"id":{"type":"integer","format":"int64","example":1231},"invitation_token":{"type":"string","example":"ErPN7VFJuEq8N7b-Z-xV"},"accepted":{"type":"boolean","example":true},"inviting_user":{"$ref":"#/definitions/UserBasicData"},"organization":{"$ref":"#/definitions/OrganizationBasicData"}}},{"$ref":"#/definitions/JoinInvitationInput"}]},"JoinInvitationInput":{"properties":{"invited_user_email":{"type":"string","example":"example@email.com"},"invited_user_first_name":{"type":"string","example":"John"},"invited_user_last_name":{"type":"string","example":"Doe"},"join_as_admin":{"type":"string","description":"THIS IS BOOLEAN type. Specified user can join as admin?","example":true}}},"JoinInvitationsCreate":{"properties":{"message":{"type":"string","example":"A join invitation was send to example@email.com"}}},"JoinInvitationAccept":{"properties":{"message":{"type":"string","example":"The join invitation was accepted successfully"}}},"IncomingReferralsIndex":{"properties":{"referrals":{"type":"array","items":{"$ref":"#/definitions/ReferralBasicData"}},"total_items":{"type":"integer","format":"int64","example":54},"total_pages":{"type":"integer","format":"int64","example":6},"current_page":{"type":"integer","format":"int64","example":3}}},"IncomingReferralsSalesforce":{"properties":{"referrals":{"type":"array","items":{"$ref":"#/definitions/ReferralBasicDataWithDocumentCount"}},"total_items":{"type":"integer","format":"int64","example":54},"total_pages":{"type":"integer","format":"int64","example":6},"current_page":{"type":"integer","format":"int64","example":3}}},"ReferralBasicDataWithoutReferralIntake":{"properties":{"klass":{"type":"string","example":"Referral"},"id":{"type":"integer","format":"int64","example":785},"reference_number":{"type":"string","example":"123"},"case_status":{"type":"string","example":"sent_to_attorney"},"assigned_to_organization_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"assigned_to_user_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"handling_organization":{"$ref":"#/definitions/OrganizationBasicData"},"handling_user":{"$ref":"#/definitions/UserBasicData"},"case_turn_down_reason":{"type":"string","example":"Good reason"},"case_lost_reason":{"type":"string","example":"Good reason"},"expires_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"case_closed_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"attorney_interested_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"signed_up_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"amount_cents":{"type":"integer","format":"int64","example":18000000},"suggested_referral_agreement":{"$ref":"#/definitions/FirmToFirmRelationshipReferralAgreement"},"terms_of_agreement":{"$ref":"#/definitions/TermsOfAgreement"}}},"ReferralBasicData":{"allOf":[{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}],"properties":{"referral_intake":{"$ref":"#/definitions/ReferralIntakeBasicData"}}},"ReferralBasicDataWithDocumentCount":{"allOf":[{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}],"properties":{"referral_intake":{"$ref":"#/definitions/ReferralIntakeBasicDataWithDocumentCount"}}},"ReferralShow":{"allOf":[{"$ref":"#/definitions/ReferralBasicDataWithDocumentCount"}],"properties":{"status_updates":{"type":"array","items":{"$ref":"#/definitions/ReferralStatusUpdate"}}}},"ReferralShowWithoutDocumentCount":{"allOf":[{"$ref":"#/definitions/ReferralBasicData"}],"properties":{"status_updates":{"type":"array","items":{"$ref":"#/definitions/ReferralStatusUpdate"}}}},"ReferralForHFWithAgreementInput":{"properties":{"referral_intake":{"$ref":"#/definitions/ReferralIntakeInput"},"suggested_referral_agreement_id":{"required":true,"type":"integer","format":"int64","example":100},"suggested_referral_agreement":{"$ref":"#/definitions/FirmToFirmRelationshipReferralAgreementInput"},"handling_organization_id":{"required":true,"type":"integer","format":"int64","example":331},"handling_user_id":{"required":false,"type":"integer","format":"int64","example":331},"expires_at":{"required":false,"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}},"ClientLocation":{"properties":{"address1":{"type":"string","example":"74133 3rd Av."},"address2":{"type":"string","example":"31st floor"},"postal_code":{"type":"string","example":"10014"},"city":{"type":"string","example":"Los Angeles"},"state":{"type":"string","example":"CA"}}},"ReferralStatusUpdate":{"properties":{"klass":{"type":"string","example":"Referral::StatusUpdate"},"id":{"type":"integer","format":"int64","example":785},"comment":{"type":"string","example":"Some comment. This can be null"},"status_from":{"type":"string","example":"sent_to_attorney"},"status_to":{"type":"string","example":"expired"},"status_update_type":{"type":"string","example":"comment/real_status_update/sub_status_update"},"user":{"$ref":"#/definitions/UserBasicData"},"organization":{"$ref":"#/definitions/OrganizationBasicData"},"status_update_occurred_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"updated_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}},"ReferralStatusUpdateInput":{"properties":{"comment":{"type":"string","example":"Some comment. This can be null"},"new_referral_sub_status":{"type":"string","example":"Discovery"},"status_update_occurred_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}},"IncomingReferralActionsStatusUpdateInput":{"properties":{"status_update":{"properties":{"comment":{"type":"string","example":"Some comment. This can be null"},"status_update_occurred_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}}}},"ReferralIntakesIndex":{"properties":{"referral_intakes":{"type":"array","items":{"$ref":"#/definitions/ReferralIntakeWithActiveReferral"}},"total_items":{"type":"integer","format":"int64","example":54},"total_pages":{"type":"integer","format":"int64","example":6},"current_page":{"type":"integer","format":"int64","example":3}}},"ReferralIntakesSalesforce":{"properties":{"referral_intakes":{"type":"array","items":{"$ref":"#/definitions/ReferralIntakeWithActiveReferralAndDocumentCount"}},"total_items":{"type":"integer","format":"int64","example":54},"total_pages":{"type":"integer","format":"int64","example":6},"current_page":{"type":"integer","format":"int64","example":3}}},"ReferralIntakeResend":{"properties":{"suggested_referral_agreement_id":{"required":false,"type":"integer","format":"int64","example":100},"suggested_referral_agreement":{"$ref":"#/definitions/FirmToFirmRelationshipReferralAgreementInput"},"handling_organization_id":{"required":true,"type":"integer","format":"int64","example":27},"handling_user_id":{"required":false,"type":"integer","format":"int64","example":331},"expires_at":{"required":false,"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}},"ReferralIntakeWithEvents":{"allOf":[{"$ref":"#/definitions/ReferralIntakeWithActiveReferralAndDocumentCount"}],"properties":{"events":{"type":"array","items":{"$ref":"#/definitions/EventsForReferralIntake"}},"status_updates":{"type":"array","items":{"$ref":"#/definitions/ReferralStatusUpdate"}}}},"ReferralIntakeWithActiveReferral":{"properties":{"referrals":{"type":"array","items":{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}},"active_referral":{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}},"allOf":[{"$ref":"#/definitions/ReferralIntakeBasicData"},{"$ref":"#/definitions/ReferralIntakeLastReferralData"}]},"ReferralIntakeBasicData":{"properties":{"klass":{"type":"string","example":"ReferralIntake"},"id":{"type":"integer","format":"int64","example":553},"reference_number":{"type":"string","example":"123"},"referral_intake_status":{"type":"string","example":"active"},"client_first_name":{"type":"string","example":"Thomas"},"client_last_name":{"type":"string","example":"Lawson"},"client_email":{"type":"string","example":"tlawson@gmail.com"},"client_phone":{"type":"string","example":"347 856 9874"},"client_location":{"$ref":"#/definitions/ClientLocation"},"case_location":{"$ref":"#/definitions/CaseLocation"},"descriptions":{"type":"string","example":"lorem ipsum ..."},"extra_info":{"type":"string","example":"lorem ipsum ..."},"external_ref_number":{"type":"string","example":"LY0000001"},"case_type":{"$ref":"#/definitions/CaseType"},"originating_user":{"$ref":"#/definitions/UserBasicData"},"originating_organization":{"$ref":"#/definitions/OrganizationWithLocation"},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"incident_date":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"referral_percentage_fee":{"type":"float","example":2.34}}},"ReferralIntakeWithActiveReferralAndDocumentCount":{"properties":{"referrals":{"type":"array","items":{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}},"active_referral":{"$ref":"#/definitions/ReferralBasicDataWithoutReferralIntake"}},"allOf":[{"$ref":"#/definitions/ReferralIntakeBasicDataWithDocumentCount"},{"$ref":"#/definitions/ReferralIntakeLastReferralData"}]},"ReferralIntakeBasicDataWithDocumentCount":{"properties":{"klass":{"type":"string","example":"ReferralIntake"},"id":{"type":"integer","format":"int64","example":553},"reference_number":{"type":"string","example":"123"},"referral_intake_status":{"type":"string","example":"active"},"client_first_name":{"type":"string","example":"Thomas"},"client_last_name":{"type":"string","example":"Lawson"},"client_email":{"type":"string","example":"tlawson@gmail.com"},"client_phone":{"type":"string","example":"347 856 9874"},"client_location":{"$ref":"#/definitions/ClientLocation"},"case_location":{"$ref":"#/definitions/CaseLocation"},"descriptions":{"type":"string","example":"lorem ipsum ..."},"extra_info":{"type":"string","example":"lorem ipsum ..."},"external_ref_number":{"type":"string","example":"LY0000001"},"case_type":{"$ref":"#/definitions/CaseType"},"originating_user":{"$ref":"#/definitions/UserBasicData"},"originating_organization":{"$ref":"#/definitions/OrganizationWithLocation"},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"incident_date":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"referral_percentage_fee":{"type":"float","example":2.34},"document_count":{"type":"integer","example":20}}},"ReferralIntakeInput":{"properties":{"client_first_name":{"type":"string","example":"Thomas"},"client_last_name":{"type":"string","example":"Lawson"},"client_email":{"type":"string","example":"tlawson@gmail.com"},"client_phone":{"type":"string","example":"347 856 9874"},"client_location":{"$ref":"#/definitions/ClientLocation"},"case_location":{"$ref":"#/definitions/CaseLocation"},"descriptions":{"type":"string","example":"lorem ipsum ..."},"extra_info":{"type":"string","example":"lorem ipsum ..."},"external_ref_number":{"type":"string","example":"LY0000001"},"case_type_id":{"type":"integer","format":"int64","example":100},"referral_percentage_fee":{"type":"float","example":2.34}}},"CaseLocation":{"properties":{"address1":{"type":"string","example":"74134 3rd Av."},"address2":{"type":"string","example":"31st floor"},"postal_code":{"type":"string","example":"10014"},"city":{"type":"string","example":"Los Angeles"},"state":{"type":"string","example":"CA"}}},"ReferralIntakeLastReferralData":{"properties":{"last_handling_organization_name":{"type":"string","example":"Firm \u0026 Associates"},"last_handling_user_full_name":{"type":"string","example":"John Doe"},"last_active_referral_status":{"type":"string","example":"expired"}}},"TermsOfAgreement":{"properties":{"klass":{"type":"string","example":"Referral::TermsOfAgreement"},"id":{"type":"integer","format":"int64","example":1231},"referral_percentage_fee":{"type":"float","example":2.34},"created_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"updated_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"}}},"EventsForReferralIntake":{"properties":{"klass":{"type":"string","example":"Referral::Event"},"id":{"type":"integer","format":"int64","example":785},"message":{"type":"string","example":"Referral was sent to attorney"},"created_at":{"type":"string","format":"date-time","example":"2016-02-22T18:43:41.088Z"},"referral_id":{"type":"integer","format":"int64","example":891}}},"CaseType":{"properties":{"klass":{"type":"string","example":"CaseType"},"id":{"type":"integer","format":"int64","example":785},"name":{"type":"string","example":"Dog Bites"}}},"CaseTypesIndex":{"properties":{"case_types":{"type":"array","items":{"$ref":"#/definitions/CaseType"}}}},"PunditError":{"properties":{"error_message":{"type":"string","example":"not allowed to attorney_showed_interest? this #\u003cReferral id: 5, referral_status: \"sent_to_attorney\", case_type_id: 5, client_first_name: \"Valerie\", client_last_name: \"Pagac\", client_phone: \"590-598-4968\", client_email: \"mina@mckenziestrosin.co.uk\", originating_user_id: 14, handling_user_id: 15, created_at: \"2016-02-19 18:40:29\", updated_at: \"2016-02-19 18:40:29\", turn_down_count: 0, handling_organization_id: 5\u003e"}}},"InvalidTransitionError":{"properties":{"error_message":{"type":"string","example":"Cannot transition referral_status via :attorney_showed_interest from :active (Reason(s): Referral status cannot transition via \"attorney showed interest\""}}},"RecordNotFoundError":{"properties":{"error_message":{"type":"string","example":"Couldn't find record"}}},"ValidationError":{"properties":{"error_message":{"type":"string","example":"Attribute can't be a string"}}},"PunditUnauthorized":{"properties":{"error_message":{"type":"string","example":"Unauthorised to access resource"},"errors":{"type":"array","items":{"type":"string","example":"Pundit::NotAuthorizedError"}}}},"Document403Error":{"properties":{"error_message":{"type":"string","example":"Error message"},"errors":{"type":"array","items":{"type":"string","example":"Error"}}}},"FirmSizeError":{"properties":{"error_message":{"type":"string","example":"firm_size parameter is invalid"},"errors":{"type":"array","items":{"type":"string","example":"firm_size parameter is invalid"}}}},"AwsError":{"properties":{"error_message":{"type":"string","example":"Error message"},"errors":{"type":"array","items":{"type":"string","example":"Error"}}}},"AdminUserBasicData":{"properties":{"klass":{"type":"string","example":"User"},"id":{"type":"integer","format":"int64","example":1231},"email":{"type":"string","example":"hspecter@ps.com"}}},"DownloadableReport":{"allOf":[{"$ref":"#/definitions/DownloadableReportInput"},{"properties":{"klass":{"type":"string","example":"DownloadableReport"},"id":{"type":"integer","format":"int64","example":1231},"status":{"type":"string","example":"ready"},"name_to_display":{"type":"string","example":"Report #1"},"attachment_file_name":{"type":"string","example":"Report file name"},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"}}}]},"DownloadableReportInput":{"properties":{"name":{"type":"string","required":false,"example":"Super cool report"},"report_type":{"type":"string","required":false,"description":"One of ['full_referrals_report', ...]","example":"full_referrals_report"}}},"DownloadableReportsIndex":{"properties":{"downloadable_reports":{"type":"array","items":{"$ref":"#/definitions/DownloadableReport"}}}},"ReferralLifetimeTotalsIncomingCount":{"properties":{"received":{"type":"integer","format":"int64","example":7},"ignored":{"type":"integer","format":"int64","example":13},"accepted":{"type":"integer","format":"int64","example":13},"signed_up":{"type":"integer","format":"int64","example":5},"won":{"type":"integer","format":"int64","example":23}}},"ReferralLifetimeTotalsOutgoingCount":{"properties":{"sent":{"type":"integer","format":"int64","example":7},"expired":{"type":"integer","format":"int64","example":13},"accepted":{"type":"integer","format":"int64","example":13},"signed_up":{"type":"integer","format":"int64","example":5},"won":{"type":"integer","format":"int64","example":23}}},"ReferralsPerformance":{"properties":{"average_response_time_in_seconds":{"type":"integer","format":"int64","example":1234567},"sent_to_attorney_count":{"type":"integer","format":"int64","example":167},"attorney_interested_count":{"type":"integer","format":"int64","example":126},"signed_up_count":{"type":"integer","format":"int64","example":123},"signed_up_before_last_240_days":{"type":"integer","format":"int64","example":13},"won_or_settled_before_last_240_days":{"type":"integer","format":"int64","example":12},"acceptance_rate":{"type":"integer","format":"int64","example":89},"sign_up_rate":{"type":"integer","format":"int64","example":98},"won_or_settled_rate_before_last_240_days":{"type":"integer","format":"int64","example":95}}},"IncomingReferralCountPerMonth":{"properties":{"received":{"type":"integer","format":"int64","example":7},"ignored":{"type":"integer","format":"int64","example":13},"accepted":{"type":"integer","format":"int64","example":13},"signed_up":{"type":"integer","format":"int64","example":5},"won":{"type":"integer","format":"int64","example":23}}},"MsaResponse":{"properties":{"klass":{"type":"string","example":"Agreement"},"id":{"type":"integer","format":"int64","example":1231},"title":{"type":"string","example":"Sample MSA Agreement"},"agreement_url":{"type":"string","example":"https://s3.amazon.com/agreement"}}},"SuggestedReferralData":{"allOf":[{"properties":{"id":{"type":"integer","example":1234},"klass":{"type":"string","example":"SuggestedReferral"},"suggested_referral_token":{"type":"string","example":"cn183ASXDFdCassd212e"},"accepted":{"type":"boolean","example":true},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"updated_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"shadow_organization":{"$ref":"#/definitions/OrganizationWithLocationAndPracticeAreas"}}},{"$ref":"#/definitions/SuggestedReferralInput"}]},"SuggestedReferralInput":{"properties":{"referral_intake_id":{"required":false,"type":"integer","example":12235},"referral_intake":{"$ref":"#/definitions/ReferralIntakeInput"},"suggested_attorney_first_name":{"type":"string","example":"Joelle"},"suggested_attorney_last_name":{"type":"string","example":"Kassulke"},"suggested_attorney_email":{"type":"string","example":"joelle_kassulke@dibbertkovacek.com"},"suggested_attorney_firm_name":{"type":"string","example":"Good Law"},"suggested_attorney_firm_state":{"type":"string","example":"AK"},"shadow_organization_id":{"type":"integer","example":312},"expires_at":{"required":false,"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"suggested_referral_agreement":{"$ref":"#/definitions/FirmToFirmRelationshipReferralAgreementInput"}}},"FirmToFirmRelationshipReferralAgreement":{"properties":{"klass":{"type":"string","example":"FirmToFirmRelationship::ReferralAgreement"},"id":{"type":"integer","format":"int64","example":1231},"referral_percentage_fee":{"type":"float","example":2.34},"originating_firm_proposing_user":{"$ref":"#/definitions/UserBasicData"},"handling_firm_signing_user":{"$ref":"#/definitions/UserBasicData"},"signed":{"type":"boolean","example":true}}},"FirmToFirmRelationshipReferralAgreementInput":{"properties":{"referral_percentage_fee":{"type":"float","example":2.34},"agreement_type":{"type":"string","example":"percentage(or other or to_be_determined)"},"agreement_name":{"type":"string","example":"Master Referral Agreement 20170102 (relevant if agreement_type is other"}}},"ReferralAgreementsWithHFIndex":{"type":"array","items":{"$ref":"#/definitions/FirmToFirmRelationshipReferralAgreement"}},"DocumentMetadata":{"properties":{"documents":{"type":"array","items":{"$ref":"#/definitions/DocumentMetadataList"}}}},"DocumentMetadataList":{"properties":{"id":{"type":"integer","format":"int64","example":100},"name":{"type":"string","example":"text.pdf"},"file_size_in_bytes":{"type":"integer","format":"int64","example":25000000},"content_type":{"type":"string","example":"application/pdf"},"uploaded":{"type":"boolean","example":false},"upload_url":{"type":"string","example":"https://litify-referral.s3.amazonaws.com/signed_uploads/referral_intake/1/documents/2526247e-cfe8-4b5b-be08-09829c0c8396?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAI6YRIQ7UQ3H2XEGQ%2F202%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20200908T154903Z\u0026X-Amz-Expires=900\u0026X-Amz-SignedHeaders=host\u0026x-amz-acl=public-read\u0026X-Amz-Signature=f1d77006951232cc58164b616"}}},"DocumentRequestMetadata":{"properties":{"documents":{"type":"array","items":{"$ref":"#/definitions/DocumentRequestMetadataList"}}}},"DocumentRequestMetadataList":{"properties":{"name":{"type":"string","example":"text.pdf"},"file_size_in_bytes":{"type":"integer","format":"int64","example":25000000},"content_type":{"type":"string","example":"application/pdf"}}},"Document":{"properties":{"id":{"type":"integer","format":"int64","example":100},"name":{"type":"string","example":"text.pdf"},"s3_key":{"type":"string","example":"signed_uploads/referral_intake/1/documents/astd33843783-22339292ddfss"},"s3_bucket":{"type":"string","example":"litify-referral"},"file_size_in_bytes":{"type":"integer","format":"int64","example":25000},"content_type":{"type":"string","example":"application/pdf"},"uploaded":{"type":"boolean","example":true},"completed_at":{"type":"string","format":"date-time","example":"2016-02-25T19:43:41.088Z"},"created_at":{"type":"string","format":"date-time","example":"2016-02-25T18:43:41.088Z"},"updated_at":{"type":"string","format":"date-time","example":"2016-02-25T19:43:41.088Z"}}},"DocumentsUploaded":{"type":"array","items":{"$ref":"#/definitions/DocumentsUploadedList"}},"DocumentsUploadedList":{"properties":{"id":{"type":"integer","format":"int64","example":100},"name":{"type":"string","example":"text.pdf"},"file_size_in_bytes":{"type":"integer","format":"int64","example":13},"content_type":{"type":"string","example":"text/plain"},"delete_at":{"type":"string","format":"date-time","example":"2016-02-25T19:43:41.088Z"},"completed_at":{"type":"string","format":"date-time","example":"2016-02-25T19:43:41.088Z"}}},"DocumentDownloadUrl":{"type":"array","items":{"$ref":"#/definitions/DocumentsDownloadList"}},"DocumentsDownloadList":{"properties":{"id":{"type":"integer","format":"int64","example":100},"download_url":{"type":"string","example":"https://litify-referral.s3.amazonaws.com/signed_uploads/referral_intake/1/documents/2526247e-cfe8-4b5b-be08-09829c0c8396?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAI6YRIQ7UQ3H2XEGQ%2F202%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20200908T154903Z\u0026X-Amz-Expires=900\u0026X-Amz-SignedHeaders=host\u0026x-amz-acl=public-read\u0026X-Amz-Signature=f1d77006951232cc58164b616"}}},"DocumentUploaded":{"properties":{"uploaded":{"type":"boolean","example":true}}},"SalesforceUploadResponse":{"properties":{"id":{"type":"integer","format":"int64","example":"0683B000000sftGYTU"},"success":{"type":"boolean","example":true},"errors":{"type":"array","example":[]}}},"SalesforceDocumentUploaderRequestBody":{"properties":{"access_token":{"type":"string","example":"00D3B0000006Ytq!AQ0AQIfmdvKJxXgBNZIldTnOyiysI0WFIRHNtwDLggvE0zCdfAB4BgZfuiHqC1rB5h1j33SY-fy9B_mmaYFRCQyBlhf0lDx_g"},"record_id":{"type":"string","example":"a0X3B000002OTIXFTW"},"base_url":{"type":"string","example":"https://test-org.my.salesforce.com"}}}}}
